<!DOCTYPE html>
<html lang="en">
<head>
<title>Jaguar Revision A.2 for FreeEMS Assembly Manual</title>
<meta charset="utf-8">
<style></style>
<link rel="stylesheet" href="style.css">
</head>
<body><p><hr id="links"></p>

<p><hr id="prev_next"></p>

<p><a class="prev_page_link" href="reflow.html">&lt;&lt; Previous</a> || <a href="index.html#index">Index</a> || <a class="next_page_link" href="serial_monitor.html">Next &gt;&gt;</a> </p>

<p><hr id="assembly13_after_reflow"></p>

<h2>Phase TWO : Post Reflow</h2>

<h3>Assembly (through-hole)</h3>

<p>From this point on, all components will be soldered by hand with a soldering iron. If you are using a temperature controlled soldering station please change to a bigger tip so that you obtain maximal thermal conductivity, reducing component heating through shorter soldering times.</p>

<h4>MCU power supply</h4>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9175.JPG"><img src="img/throughhole/DSCF9175.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<ul>
<li><strong>C2</strong> <em>(10µF)</em> Polarised tantalum capacitor;</li>
</ul></p>

<p>Make sure that it is oriented correctly as per the silkscreen, positive lead closest to the MCU. </p>

<p>Note: If no markings are visible the longest lead is positive. </p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9179.JPG"><img src="img/throughhole/DSCF9179.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>C2</strong> tantalum capacitor installed.</p>
 </div>
</div></p>

<h4>Main power supply</h4>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9186.JPG"><img src="img/throughhole/DSCF9186.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Assembling through hole components on main power supply.</p></p>

<ol>
<li><strong>U4</strong> <em>(LM2937)</em> Square pad = pin #1</li>
<li><strong>D4</strong> <em>(1N4007)</em> Direction dependant, orient the <strong>K</strong> lead (marked with a white band) to the RIGHT of the PCB.</li>
<li><strong>C8</strong> <em>(10µF)</em> Polarised tantalum capacitor; Make sure that it is oriented correctly as per the silkscreen, positive lead soldered to square pad.</li>
<li><strong>C11</strong> <em>(10µF)</em> Polarised tantalum capacitor; Make sure that it is oriented correctly as per the silkscreen, positive lead soldered to square pad.</li>
</ol>

<p>Note: If you install a tantalum capacitor the wrong way around it will explode violently <a href="http://www.youtube.com/watch?v=CGRr9MCBo6I">in your face!</a></p>

<p></div>
</div></p>

<p><strong>Power Supply Circuit Verification and Testing:</strong> </p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9192.JPG"><img src="img/throughhole/DSCF9192.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>Readings taken</strong> with no other connections made other than V supply.</p></p>

<ul>
<li>Voltage Main Supply = 4.8v (this should be 5v, further investigation is required)</li>
<li>Voltage MCU = 5.06v</li>
<li>Current total = ~6mA</li>
</ul>

<p>Both outputs are clean and interference free, as seen on oscilloscope. </p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9190.JPG"><img src="img/throughhole/DSCF9190.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<ul>
<li>Channel 1 trace (top) is at 2v per division = MCU Vout</li>
<li>Channel 2 trace (bottom) is at 5v per division = Main Supply Vout</li>
</ul>
 </div>
</div></p>

<h4>MAP on-board setup</h4>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/reflow/IMG_0227.JPG"><img src="img/reflow/IMG_0227.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>On-board MAP connection.</p></p>

<ul>
<li><strong>U6</strong> <em>(MPX4250A)</em> Pin 1 is identified via the square pad.</li>
</ul>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9208.JPG"><img src="img/throughhole/DSCF9208.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>On-board MAP sensor PCB top side.</p></p>

<ul>
<li>Pin 1 on the pressure sensor can be identification via a small circular nick of material removed from one side the lead.</li>
</ul>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9211.JPG"><img src="img/throughhole/DSCF9211.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>MAP has been mounted from the underside of the PCB to so that the plastic casing is resting on the top side of the PCB this will remove unnecessary stresses from the pads during connection and disconnection of vacuum hose.</p>
 </div>
</div></p>

<h4>AAP on-board setup</h4>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/reflow/IMG_0250.JPG"><img src="img/reflow/IMG_0250.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>On-board AAP connection.</p></p>

<ul>
<li><strong>U5</strong> <em>(MPX4100A)</em> Pin 1 is identified via the square pad.</li>
</ul>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9221.JPG"><img src="img/throughhole/DSCF9221.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>On-board AAP sensor installed.</p></p>

<ul>
<li>Pin 1 on the pressure sensor can be identification via a small circular nick of material removed from one side the lead. (this can be seen on in the image on the lower portion of the left most pin)</li>
</ul>

<p></div>
</div></p>

<h4>Fuel</h4>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/reflow/IMG_0277.JPG"><img src="img/reflow/IMG_0277.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Fuel FET installation.</p></p>

<ul>
<li><strong>Q8</strong> <em>(Mosfet_N Channel)</em> Square pad is pin 1(Gate) pin 2(Drain) pin 3(Source) left to right, check with your FET data sheet for specifics.</li>
</ul>

<p>How you choose to mount it will depend on the casing it will reside in. </p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9193.JPG"><img src="img/throughhole/DSCF9193.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Installed fuel driver.</p>
 </div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9196.JPG"><img src="img/throughhole/DSCF9196.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>The FET's have been mounted as shown so that they can be bent into a vertical position at a later time. This will be dependant on the case in which the board will reside. In any situation the leads should contain 2 x 90&deg; bends to ensure that NO long term mechanical stresses and vibrations will weaken the FET leads.</p>
 </div>
</div></p>

<p><hr id="ignition_th"></p>

<h4>IGNITION</h4>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9204.JPG"><img src="img/throughhole/DSCF9204.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>ignition FET connection.</p></p>

<p><strong>ignition 1</strong>
- <strong>Q4</strong> <em>(VNB10N07)</em></p>

<p><strong>ignition 2</strong>
- <strong>Q3</strong> <em>(VNB10N07)</em></p>

<p><strong>ignition 3</strong>
- <strong>Q2</strong> <em>(VNB10N07)</em></p>

<p><strong>ignition 4</strong>
- <strong>Q1</strong> <em>(VNB10N07)</em></p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9276.JPG"><img src="img/throughhole/DSCF9276.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Installed injection circuits.</p>
 </div>
</div></p>

<p><hr id="ign_pullup_mod"></p>

<h2>Ignition pullup mod</h2>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9814.JPG"><img src="img/throughhole/DSCF9814.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>200 ohm 2W resistor</strong></p></p>

<ul>
<li>bend one leg of the restistor, so that it is parrellel and adjacent to other leg.</li>
<li>place the resistor with the unbent leg in to the 12V (P4??) the bent leg should go in to IGN1 (P3??)</li>
</ul>

<p>To make attaching future ignition wire I have bent a loop into the leg that attaches to IGN1. This allows for a wire to be fed though and filled with solder resulting in sturdy easy connection.</p>

<ul>
<li>Complete this process for each of the ignition channels IGN2, IGN3, IGN4.</li>
</ul>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9831.JPG"><img src="img/throughhole/DSCF9831.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;
 </div>
</div></p>

<p><hr id="injection_th"></p>

<h4>INJECTION</h4>

<p>Hold the VNP10N07 with leads down and writing facing the front. The pin out and lead functions are as follows: </p>

<ul>
<li><strong>Left lead = Gate (pin 1)</strong></li>
<li><strong>Center lead = Drain (pin 2)</strong></li>
<li><strong>Right lead = Source (pin 3)</strong></li>
</ul>

<p>(if you are not using these FET's please refer to your component data sheet)</p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/reflow/IMG_0362.JPG"><img src="img/reflow/IMG_0362.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Injection FET connection.</p></p>

<p><strong>MOD</strong> These will be installed <strong>reverse mounted</strong>, as seen in the image left. This is being done so that the following injection mod can be made cleanly with current PCB tracing. </p>

<p><strong>Pin 3</strong> mounts to the square pad.
Repeat the process with as many FET's as you require up to a maximum of 8 (only 6 are useable with the current firmware, see below for mods on getting them working)</p>

<p><em>Note: Although it is recommended it is in no way compulsory to mount the FET's in this way. If you choose to mount the FET's any other way you will need to devise your own version of the injector mod.</em></p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9300.JPG"><img src="img/throughhole/DSCF9300.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>injection 1</strong>
- <strong>Q15</strong> <em>(VNP10N07)</em></p></p>

<p><strong>injection 2</strong>
- <strong>Q14</strong> <em>(VNP10N07)</em></p>

<p><strong>injection 3</strong>
- <strong>Q13</strong> <em>(VNP10N07)</em></p>

<p><strong>injection 4</strong>
- <strong>Q12</strong> <em>(VNP10N07)</em></p>

<p><strong>injection 5</strong>
- <strong>Q11</strong> <em>(VNP10N07)</em></p>

<p><strong>injection 6</strong>
- <strong>Q10</strong> <em>(VNP10N07)</em></p>

<p><strong>injection 7</strong>
- <strong>Q16</strong> <em>(VNP10N07)</em></p>

<p><strong>injection 8</strong>
- <strong>Q17</strong> <em>(VNP10N07)</em></p>

<p></div>
</div></p>

<h4>INJECTION Mod</h4>

<h4><em>Important! : before this mod is made check for Sean's XGATE functionality within the FreeEMS firmware. If XGATE is not yet supported please perform the <a href="assembly_through_hole.html#temp_portT_mod">PORT T INJECTION MOD</a> before this injection mod.</em></h4>

<p>Perform this 3 step process for each injector that will be used. The Mod should only be applied to the following part numbers Q10, Q11, Q12, Q13, Q14, Q15, Q16, Q17. These mods are made over the location (silk screen) of U28, U27, U21, U22, U23, U24, U25, U26.</p>

<p>This following description is specifically for the Q17 FET install (U28 injection mod).</p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9284.JPG"><img src="img/throughhole/DSCF9284.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>Ground jumper mod :</strong> </p></p>

<p>Placed a wire jumper between pads 4 and 5 on U28(not installed), this is a ground wire so I have opted to use non-insulated wire. <em>Snipped off though-hole component leads work a treat, for this.</em> </p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9286.JPG"><img src="img/throughhole/DSCF9286.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>LED mod :</strong></p></p>

<p>Place a 3k&ohm; resistor between <strong>BAT PWR</strong> and pad 3 on U28.</p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9290.JPG"><img src="img/throughhole/DSCF9290.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p><strong>Gate signal jumper :</strong> </p></p>

<p>Place a wire jumper between pad 1 of U28 and the pad K of D91 (jumper installed shown in yellow). </p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9309.JPG"><img src="img/throughhole/DSCF9309.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Bottom side PCB : Installed injection circuits without the temporary PORT T mod. </p>
 </div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9304.JPG"><img src="img/throughhole/DSCF9304.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Top side PCB : Installed injection circuits without the temporary PORT T mod. </p>
 </div>
</div></p>

<p><hr id="temp_portT_mod"></p>

<h2>Temporary Port T Injection mod</h2>

<p>This mod is necessary for the PUMA board to work on current FreeEMS Vanilla code.
It requires the following components</p>

<ul>
<li>1 x approximately 100mm lengths of wire, small enough to fit through the PUMA pcb vias.</li>
<li>1 x short wire jumpers.</li>
<li>1 x 1k&ohm; through hole resistors.</li>
</ul>

<p><em>(one to six sets will be needed, only 2 port T mods are described in this how-to)</em></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9321.JPG"><img src="img/throughhole/DSCF9321.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Install one of the 1k&ohm; resistors between pad 8 of U28, and the pad K of D91.</p></p>

<p>Install the second 1k&ohm; resistor between pad 8 of U27, and the pad K of D90.</p>

<p></div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9322.JPG"><img src="img/throughhole/DSCF9322.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Place a wire link between the right hand pad of R211 and the via on the right side of <strong>G</strong> in <strong>GND</strong> on P71 header shown right.</p></p>

<p>Place a second wire link between the right hand pad of R208 and the via on the left side of <strong>G</strong> in <strong>GND</strong> on P71 header shown right.</p>

<p>Placed a wire jumper between pads 4 and 5 on U28(not installed), this is a ground wire so I have opted to have non insulated. <em>Snipped off though-hole component leads work a treat, for this.</em></p>

<p>Place second wire jumper between pads 4 and 5 on U27(also not installed), this is a ground wire so I have opted to use non-insulated wire.</p>

<p></div>
</div></p>

<p><hr id="usb_pnp_mod"></p>

<h2>USB PNP mod</h2>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/USBmod.jpg"><img src="img/throughhole/USBmod.jpg" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<p>Schematic of what is trying to be achieved with this mod, the pnp transistor and its connection points. </p>
 </div>
</div></p>

<div class=imagebox style="min-height:280px">
  <a class=pict href="img/throughhole/DSCF9839.JPG"><img src="img/throughhole/DSCF9839.JPG" width=337 height=260 title="" alt="">
    <div class=pict_title>
    </div>

<p></a>
 &lt;div class=text&gt;<ul>
<li>Holding the PNP transistor with its legs pointing up and the flat side facing you, the legs are named left to right <strong>Emitter, Base, Collector</strong>.</li>
<li>This mod is done on the under side of the PCB.</li>
<li>Bend the <em>emitter</em> leg 90&deg; down (away from the flat face).</li>
<li>Bend the <em>collector</em> leg 90&deg; out to the side.</li>
<li>Place the emitter leg of the transistor through the second via directly below the words &quot;spin 1&quot; on the under side of the PCB, and solder. It maybe necessary to scratch the surface of the via pad clean with a razor blade.</li>
<li>Connect the <em>base</em> leg directly to the 5v pin of the USB connector, this is the top connector pin when viewing the PCB from the bottom side with the puma text up the correct way. Make a connection between this <em>base</em> leg and the via between the USB LEDs.This is the via that was previously connected to the ground plain that we drilled out in the first stages of this how-to. A small wire will be necessary that can be feed down the via and soldered to one of the resistors on the opposite side of the PCB.</li>
<li>Connect the <em>collector</em> leg to a puma 5volt rail, I have opted to use 5v from the BDM header pin.</li>
</ul></p>

<p>USBmod complete!</p>

<p></div>
</div></p>

<p><hr id="links"></p>

<p><hr id="prev_next"></p>

<p><a class="prev_page_link" href="reflow.html">&lt;&lt; Previous</a> || <a href="index.html#index">Index</a> || <a class="next_page_link" href="serial_monitor.html">Next &gt;&gt;</a> </p></body>
</html>
